{% extends "base.html" %}

{% block header %}
    {% block title %}Spotify Song Info{%endblock%}
{% endblock %}
{% block content%}
    {% if song_info %}
      <div class="card">
        <img src="{{ song_info['album']['images'][0]['url'] }}" alt="{{ song_info['album']['name'] }} album art" width="200px" class="mt-1 ms-1">
        <div class="card-body">
          <h5 class="card-title">{{ song_info['name'] }}</h5>
          <ul class="list-group">
            <li class="list-group-item active">Artists</li>
            {% for artist in song_info['artists'] %}
              <li class="list-group-item">{{ artist['name'] }}</li>
            {% endfor %}
          </ul>
        </div>
      </div>

      <table class="table table-bordered mt-2">
        <tr>
          <td>Genre:</td>
          <td>{{ song_info['genres'] }}</td>
        </tr>
        <tr>
          <td>Album:</td>
          <td>{{ song_info['album']['name'] }}</td>
        </tr>
        <tr>
          <td>Release Date:</td>
          <td>{{ song_info['album']['release_date'] }}</td>
        </tr>
        <tr>
          <td>Duration:</td>
          <td>{{ song_info['duration_ms'] // 1000 }} seconds</td>
        </tr>
        <tr>
          <td>Popularity:</td>
          <td>{{ song_info['popularity'] }}%</td>
        </tr>
        {% if song_info['audio_features'] %}
          <tr>
            <td>Key:</td>
            <td>{{ song_info['audio_features']['key'] }}</td>
          </tr>
          <tr>
            <td>Mode:</td>
            <td>{{ song_info['audio_features']['mode'] }}</td>
          </tr>
          <tr>
            <td>Time Signature:</td>
            <td>{{ song_info['audio_features']['time_signature'] }}</td>
          </tr>
          <tr>
            <td>Tempo:</td>
            <td>{{ song_info['audio_features']['tempo'] }}</td>
          </tr>
          <tr>
            <td>Loudness:</td>
            <td>{{ song_info['audio_features']['loudness'] }}</td>
          </tr>
          <tr>
            <td>Valence:</td>
            <td>{{ song_info['audio_features']['valence'] }}</td>
          </tr>
          <tr>
            <td>Acousticness:</td>
            <td>{{ song_info['audio_features']['acousticness'] }}</td>
          </tr>
          <tr>
            <td>Danceability:</td>
            <td>{{ song_info['audio_features']['danceability'] }}</td>
          </tr>
          <tr>
            <td>Energy:</td>
            <td>{{ song_info['audio_features']['energy'] }}</td>
          </tr>
          <tr>
            <td>Instrumentalness:</td>
            <td>{{ song_info['audio_features']['instrumentalness'] }}</td>
          </tr>
          <tr>
            <td>Liveness:</td>
            <td>{{ song_info['audio_features']['liveness'] }}</td>
          </tr>
        {% endif %}
      </table>
    {% endif %}
    <a href="/" class="btn btn-secondary">Return</a>
{% endblock %}

